<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>è¨€è‘‰ã®ãƒ—ãƒ©ãƒã‚¿ãƒªã‚¦ãƒ </title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene background="color: black">
      <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ“ä½œã§ãã‚‹ã‚«ãƒ¡ãƒ© -->
      <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>
    </a-scene>

    <!-- ğŸ”½ ã“ã“ã«ã•ã£ãã®ä¿®æ­£ç‰ˆã‚³ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã‚‹ -->
    <script>
      const maxModels = 100;
      const words = [];

      for (let i = 1; i <= maxModels; i++) {
        words.push(`models/word${i}.glb`);
      }

      function spawnWord() {
        const scene = document.querySelector("a-scene");
        const model = document.createElement("a-entity");

        const choice = words[Math.floor(Math.random() * words.length)];
        console.log("é¸ã°ã‚ŒãŸãƒ¢ãƒ‡ãƒ«:", choice);  // â˜…ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›

        const radius = 5;
        const theta = Math.random() * 2 * Math.PI;
        const phi = Math.random() * Math.PI;

        const x = radius * Math.sin(phi) * Math.cos(theta);
        const y = radius * Math.cos(phi) + 2;
        const z = radius * Math.sin(phi) * Math.sin(theta);

        model.setAttribute("gltf-model", `url(${choice})`);
        model.setAttribute("scale", "0.5 0.5 0.5");
        model.setAttribute("position", `${x} ${y} ${z}`);

        model.setAttribute(
          "animation",
          `property: position; to: ${x} -2 ${z}; dur: 8000; easing: linear; loop: false`
        );

        scene.appendChild(model);

        setTimeout(() => model.remove(), 10000);
      }

      window.onload = () => {
        console.log("ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†ã€‚spawnWordã‚’é–‹å§‹ã—ã¾ã™");
        setInterval(spawnWord, 3000);
      };
    </script>
  </body>
</html>
